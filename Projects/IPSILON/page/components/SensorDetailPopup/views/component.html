<!-- Sensor Detail Popup Component -->
<div class="popup-overlay" style="display: none;">
    <div class="popup-container">
        <div class="popup-header">
            <div class="popup-title-area">
                <h3 class="popup-title"></h3>
                <span class="popup-zone"></span>
            </div>
            <button class="popup-close" data-action="close">&times;</button>
        </div>

        <div class="popup-body">
            <!-- Current Status Section -->
            <div class="current-status-section">
                <div class="status-card temperature">
                    <div class="status-label">Temperature</div>
                    <div class="status-value">
                        <span class="current-temp"></span>
                        <span class="temp-unit"></span>
                    </div>
                    <div class="threshold-info">
                        <span class="threshold-warning">Warning: <span class="threshold-warning-val"></span></span>
                        <span class="threshold-critical">Critical: <span class="threshold-critical-val"></span></span>
                    </div>
                </div>

                <div class="status-card humidity">
                    <div class="status-label">Humidity</div>
                    <div class="status-value">
                        <span class="current-humidity"></span>
                        <span class="humidity-unit">%</span>
                    </div>
                </div>

                <div class="status-card status">
                    <div class="status-label">Status</div>
                    <div class="status-badge-large"></div>
                    <div class="last-updated-info">
                        Last updated: <span class="detail-last-updated"></span>
                    </div>
                </div>
            </div>

            <!-- History Chart Section -->
            <div class="chart-section">
                <div class="chart-header">
                    <h4 class="chart-title">Temperature History (24h)</h4>
                    <div class="chart-controls">
                        <button class="chart-btn active" data-period="24h">24h</button>
                        <button class="chart-btn" data-period="7d">7d</button>
                        <button class="chart-btn" data-period="30d">30d</button>
                    </div>
                </div>
                <div class="chart-container">
                    <!-- ECharts will render here -->
                </div>
            </div>

            <!-- Alert History Section -->
            <div class="alert-section">
                <h4 class="alert-title">Recent Alerts</h4>
                <div class="alert-list">
                    <!-- Dynamic alert items -->
                </div>
            </div>
        </div>

        <div class="popup-footer">
            <button class="btn btn-secondary" data-action="close">Close</button>
            <button class="btn btn-primary" data-action="configure">Configure Threshold</button>
        </div>
    </div>
</div>

<template id="alert-item-template">
    <div class="alert-item" data-severity="">
        <span class="alert-icon"></span>
        <div class="alert-content">
            <span class="alert-message"></span>
            <span class="alert-time"></span>
        </div>
    </div>
</template>
