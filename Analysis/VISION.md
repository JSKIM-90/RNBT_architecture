# 프로젝트 비전

런타임 프레임워크 기반 개발 워크플로우와 자산화 전략

---

## 목표

**Figma 디자인에서 재사용 가능한 컴포넌트 자산까지**

디자인 → 퍼블리싱 → 패턴 적용 → 사용자 정의 → 자산 축적 → 재사용

---

## 워크플로우

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. Figma 디자인                                                  │
│    └─ 디자이너가 컴포넌트 단위로 디자인                            │
└────────────────────────┬────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────────┐
│ 2. HTML/CSS 퍼블리싱 (MCP Server)                                │
│    ├─ Figma MCP Server로 디자인 정보 추출                        │
│    ├─ Playwright CLI로 스크린샷 자동화                           │
│    └─ 컴포넌트 구조에 맞춘 HTML/CSS 생성                         │
│        ├─ views/component.html                                  │
│        ├─ styles/component.css                                  │
│        └─ preview.html                                          │
└────────────────────────┬────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────────┐
│ 3. Default JS 적용                                               │
│    ├─ DEFAULT_JS.md 템플릿 복사                                  │
│    ├─ 컴포넌트: register.js, destroy.js                         │
│    └─ 페이지: before_load.js, loaded.js, before_unload.js       │
└────────────────────────┬────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────────┐
│ 4. Preview로 독립적 시각적 결과 확인                              │
│    ├─ 컴포넌트 격리 테스트 환경                                   │
│    ├─ page-root 없이 컴포넌트만 배치                             │
│    └─ 런타임 코드와 동일한 결과 검증                              │
└────────────────────────┬────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────────┐
│ 5. 사용자 정의 구현                                               │
│    ├─ subscriptions에 topic 추가                                 │
│    ├─ customEvents에 이벤트 추가                                 │
│    ├─ 렌더링 함수 구현                                           │
│    └─ 페이지 이벤트 핸들러 구현                                   │
└────────────────────────┬────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────────┐
│ 6. 회사 자산으로 축적                                             │
│    ├─ 컴포넌트 = 컨테이너 + 내부 요소 (독립적 단위)               │
│    ├─ 구조화된 형태로 저장                                        │
│    └─ 문서화 (CONTAINER_STYLES.md, README.md)                    │
└────────────────────────┬────────────────────────────────────────┘
                         ↓
┌─────────────────────────────────────────────────────────────────┐
│ 7. 재사용                                                        │
│    ├─ 컴포넌트 단위로 가져오기                                    │
│    ├─ 컨테이너 크기만 조정하면 배치 완료                          │
│    └─ 박스 단위 조합으로 새 레이아웃 구성                         │
└─────────────────────────────────────────────────────────────────┘
```

---

## 자동화 전략

### Figma MCP + Playwright CLI 결합

```
Figma 디자인
    ↓
Figma MCP Server (디자인 정보 추출)
    ↓
Playwright CLI (스크린샷 자동화)
    ↓
Claude Code (HTML/CSS 생성)
    ↓
컴포넌트 구조에 맞춘 파일 생성
```

**목표**: 사용자가 수동으로 스크린샷을 생성하지 않아도 됨

**효과**:
- HTML/CSS 생성 속도 향상
- 반복 작업 제거
- 일관된 컴포넌트 구조 유지

---

## 핵심 원칙

### 1. 컴포넌트 구조 유지

```
컴포넌트 = 컨테이너 + 내부 요소 (함께 배포됨)
├─ 컨테이너: 독립적인 HTML 단위로 그려짐
└─ 내부 요소: 컨테이너를 기준으로 레이아웃
```

- 외부에서 보면: 그냥 박스
- 내부에서 보면: 버튼이든 테이블이든 상관없음
- 조합하는 쪽에서 내부 구현을 알 필요 없음

### 2. Preview로 독립적 결과 확인

- 런타임에서 사용할 코드가 Preview에서도 동일하게 동작
- page-root는 가변적 → 컴포넌트가 특정 page-root에 종속되면 안 됨
- 컴포넌트의 이식성(portability) 보장

### 3. Default JS로 패턴 통일

- 모든 컴포넌트가 동일한 구조
- 복사 → 수정으로 빠른 개발
- 1:1 매칭으로 리소스 정리 보장

---

## 자산 구조

### 컴포넌트 자산

```
ComponentName/
├─ views/component.html       # 내부 요소 HTML
├─ styles/component.css       # 내부 요소 스타일
├─ scripts/
│   ├─ register.js            # 초기화 로직
│   └─ destroy.js             # 정리 로직
└─ preview.html               # 독립 테스트
```

> **Note**: 컴포넌트 폴더명이 이미 ComponentName이므로 내부 파일명에 중복 불필요

### 페이지 자산

```
page/
├─ page_scripts/
│   ├─ before_load.js    # 이벤트 핸들러 등록
│   ├─ loaded.js         # 데이터 발행, interval 관리
│   └─ before_unload.js  # 리소스 정리
└─ README.md             # 페이지 설명
```

---

## 관련 문서

| 문서 | 역할 |
|------|------|
| [`COMPONENT_STRUCTURE.md`](COMPONENT_STRUCTURE.md) | 컴포넌트 구조 (컨테이너 + 내부 요소) |
| [`DEFAULT_JS.md`](DEFAULT_JS.md) | Default JS 템플릿 |
| [`PROJECT_TEMPLATE.md`](PROJECT_TEMPLATE.md) | 프로젝트 설계 패턴 |
| [`CLAUDE.md`](CLAUDE.md) | 전체 프레임워크 설명 |

---

**버전**: 1.1.0
**작성일**: 2025-12-02
**변경사항**:
- v1.1.0: 파일 구조 통일 (scripts/ 폴더, 파일명 간결화)
